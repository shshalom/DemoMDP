{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://mdp.dev/schemas/agent-handoff/v1",
    "title": "AgentHandoff",
    "description": "Agent-to-agent handoff with context and decisions",
    "type": "object",
    "required": ["from", "to", "decisions", "artifacts", "context_summary", "timestamp"],
    "properties": {
        "from": {
            "type": "string",
            "description": "Agent handing off"
        },
        "to": {
            "type": "string",
            "description": "Agent receiving handoff"
        },
        "decisions": {
            "type": "array",
            "description": "Decisions made by 'from' agent",
            "items": {
                "type": "object",
                "required": ["question", "answer"],
                "properties": {
                    "question": {
                        "type": "string"
                    },
                    "answer": {
                        "type": "string"
                    },
                    "reasoning": {
                        "type": "string"
                    },
                    "confidence": {
                        "type": "number",
                        "minimum": 0.0,
                        "maximum": 1.0
                    }
                }
            }
        },
        "artifacts": {
            "type": "array",
            "description": "Work products from 'from' agent",
            "items": {
                "type": "object",
                "required": ["uri", "type"],
                "properties": {
                    "uri": {
                        "type": "string",
                        "description": "Artifact URI"
                    },
                    "type": {
                        "type": "string",
                        "description": "Artifact type (e.g., 'document', 'code', 'diagram')"
                    },
                    "description": {
                        "type": "string"
                    }
                }
            }
        },
        "context_summary": {
            "type": "string",
            "description": "Summary for 'to' agent (concise context)"
        },
        "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Handoff timestamp (ISO 8601)"
        },
        "metadata": {
            "type": "object",
            "description": "Optional metadata",
            "additionalProperties": true
        }
    }
}
