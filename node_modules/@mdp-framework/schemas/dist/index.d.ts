export interface PolicyCard {
    id: string;
    version: string;
    scope: 'repo' | 'org' | 'team' | 'global';
    role: string;
    title?: string;
    description?: string;
    tags?: string[];
    constraints?: Record<string, unknown>;
    on_violation?: Array<{
        action: 'warn' | 'fail' | 'comment' | 'suggest_patch' | 'notify';
        message?: string;
        metadata?: Record<string, unknown>;
    }>;
    hash: string;
    signature?: string;
    signed_by?: string;
    aoi?: {
        enabled?: boolean;
        framework?: string;
        owners?: string[];
        include_tests?: boolean;
        threshold?: number;
        auto_create_counter_pr?: boolean;
        auto_create_followup_pr?: boolean;
    };
    metadata?: Record<string, unknown>;
}
export interface StateCapsule {
    id: string;
    kind: 'feature' | 'issue' | 'pr' | 'investigation' | 'custom';
    version: number;
    created_at: string;
    updated_at?: string;
    ttl?: number;
    context?: {
        repo?: string;
        branch?: string;
        pr_number?: number;
        issue_key?: string;
        initiator?: string;
        [key: string]: unknown;
    };
    decisions?: Array<{
        question: string;
        answer: string | number | boolean | object | unknown[];
        timestamp: string;
        source?: 'user' | 'agent' | 'system';
    }>;
    evidence?: Array<{
        type: 'link' | 'file' | 'snippet' | 'trace' | 'log';
        ref: string;
        title?: string;
        description?: string;
        metadata?: Record<string, unknown>;
    }>;
    policy_ids?: string[];
    artifacts?: Record<string, {
        content?: string;
        content_type?: string;
        size?: number;
        hash?: string;
    }>;
    metadata?: Record<string, unknown>;
}
export interface Envelope {
    id: string;
    version: 'v1';
    timestamp: string;
    status: 'success' | 'warning' | 'failure' | 'error';
    execution: {
        mode: 'enforce' | 'report' | 'dry-run';
        duration_ms: number;
        host?: string;
        triggered_by?: string;
    };
    capsule_id?: string;
    policy_ids?: string[];
    resolver?: {
        snapshot_time?: string;
        channel?: string;
        degraded?: boolean;
    };
    results?: Array<{
        policy_id: string;
        outcome: 'pass' | 'warn' | 'fail';
        violations?: Array<{
            message?: string;
            location?: {
                file?: string;
                line?: number;
                column?: number;
            };
            severity?: 'info' | 'warning' | 'error';
        }>;
        duration_ms?: number;
    }>;
    evidence_ids?: string[];
    actions?: Array<{
        type: 'comment' | 'check' | 'patch' | 'notify' | 'block';
        status?: 'pending' | 'completed' | 'failed';
        ref?: string;
        metadata?: Record<string, unknown>;
    }>;
    artifacts?: Record<string, {
        type?: string;
        ref?: string;
        hash?: string;
    }>;
    observability?: {
        trace_id?: string;
        span_id?: string;
        events?: Array<{
            timestamp?: string;
            type?: string;
            message?: string;
            metadata?: Record<string, unknown>;
        }>;
    };
    metadata?: Record<string, unknown>;
}
export interface AOISpec {
    id: string;
    kind: 'component' | 'policy' | 'adapter' | 'schema' | 'config' | 'custom';
    name: string;
    description?: string;
    status: 'detected' | 'specified' | 'assigned' | 'stubbed' | 'resolved' | 'migrated';
    created_at: string;
    updated_at?: string;
    detected_in?: {
        repo?: string;
        pr_number?: number;
        file?: string;
        line?: number;
    };
    specification?: {
        interface?: Record<string, unknown>;
        requirements?: string[];
        examples?: Array<{
            description?: string;
            code?: string;
        }>;
    };
    ownership?: {
        team?: string;
        assignee?: string;
        assigned_at?: string;
    };
    tracking?: {
        issue_key?: string;
        issue_url?: string;
        stub_pr?: number;
        stub_pr_url?: string;
        implementation_pr?: number;
        migration_pr?: number;
    };
    sla?: {
        target_date?: string;
        priority?: 'low' | 'medium' | 'high' | 'critical';
        escalated?: boolean;
    };
    metadata?: Record<string, unknown>;
}
export interface AIEvaluationMetadata {
    model: string;
    tokens_used: number;
    cost_usd: number;
    confidence_score: number;
    latency_ms: number;
    fallback_used: boolean;
    reasoning?: string;
}
export interface AgentHandoff {
    from: string;
    to: string;
    decisions: Array<{
        question: string;
        answer: string;
        reasoning?: string;
        confidence?: number;
    }>;
    artifacts: Array<{
        uri: string;
        type: string;
        description?: string;
    }>;
    context_summary: string;
    timestamp: string;
    metadata?: Record<string, unknown>;
}
export interface WorkflowResult {
    capsule_id: string;
    agents_invoked: string[];
    handoffs: AgentHandoff[];
    final_decisions: Array<{
        question: string;
        answer: string;
        reasoning?: string;
        confidence?: number;
        agent?: string;
    }>;
    execution_time_ms: number;
    status: 'success' | 'partial' | 'failed';
    error?: {
        agent: string;
        message: string;
        recoverable: boolean;
    };
}
export interface ValidationError {
    path: string;
    message: string;
    keyword?: string;
    params?: Record<string, unknown>;
}
export declare const validators: {
    policyCard: {
        validate: (data: unknown) => data is PolicyCard;
        errors: () => ValidationError[];
    };
    stateCapsule: {
        validate: (data: unknown) => data is StateCapsule;
        errors: () => ValidationError[];
    };
    envelope: {
        validate: (data: unknown) => data is Envelope;
        errors: () => ValidationError[];
    };
    aoiSpec: {
        validate: (data: unknown) => data is AOISpec;
        errors: () => ValidationError[];
    };
    aiEvaluationMetadata: {
        validate: (data: unknown) => data is AIEvaluationMetadata;
        errors: () => ValidationError[];
    };
    agentHandoff: {
        validate: (data: unknown) => data is AgentHandoff;
        errors: () => ValidationError[];
    };
    workflowResult: {
        validate: (data: unknown) => data is WorkflowResult;
        errors: () => ValidationError[];
    };
};
export declare const schemas: {
    policyCard: {
        $schema: string;
        $id: string;
        title: string;
        description: string;
        type: string;
        required: string[];
        properties: {
            id: {
                type: string;
                description: string;
                pattern: string;
            };
            version: {
                type: string;
                description: string;
                pattern: string;
            };
            scope: {
                type: string;
                description: string;
                enum: string[];
            };
            role: {
                type: string;
                description: string;
                pattern: string;
            };
            title: {
                type: string;
                description: string;
            };
            description: {
                type: string;
                description: string;
            };
            tags: {
                type: string;
                description: string;
                items: {
                    type: string;
                };
            };
            constraints: {
                type: string;
                description: string;
                additionalProperties: boolean;
            };
            on_violation: {
                type: string;
                description: string;
                items: {
                    type: string;
                    required: string[];
                    properties: {
                        action: {
                            type: string;
                            enum: string[];
                        };
                        message: {
                            type: string;
                            description: string;
                        };
                        metadata: {
                            type: string;
                            description: string;
                            additionalProperties: boolean;
                        };
                    };
                };
            };
            hash: {
                type: string;
                description: string;
                pattern: string;
            };
            signature: {
                type: string;
                description: string;
            };
            signed_by: {
                type: string;
                description: string;
            };
            aoi: {
                type: string;
                description: string;
                properties: {
                    enabled: {
                        type: string;
                        description: string;
                    };
                    framework: {
                        type: string;
                        description: string;
                    };
                    owners: {
                        type: string;
                        description: string;
                        items: {
                            type: string;
                        };
                    };
                    include_tests: {
                        type: string;
                        description: string;
                        default: boolean;
                    };
                    threshold: {
                        type: string;
                        description: string;
                        minimum: number;
                        maximum: number;
                        default: number;
                    };
                    auto_create_counter_pr: {
                        type: string;
                        description: string;
                        default: boolean;
                    };
                    auto_create_followup_pr: {
                        type: string;
                        description: string;
                        default: boolean;
                    };
                };
            };
            metadata: {
                type: string;
                description: string;
                properties: {
                    author: {
                        type: string;
                    };
                    created_at: {
                        type: string;
                        format: string;
                    };
                    source: {
                        type: string;
                        description: string;
                    };
                };
                additionalProperties: boolean;
            };
        };
    };
    stateCapsule: {
        $schema: string;
        $id: string;
        title: string;
        description: string;
        type: string;
        required: string[];
        properties: {
            id: {
                type: string;
                description: string;
                pattern: string;
            };
            kind: {
                type: string;
                description: string;
                enum: string[];
            };
            version: {
                type: string;
                description: string;
                minimum: number;
            };
            created_at: {
                type: string;
                format: string;
                description: string;
            };
            updated_at: {
                type: string;
                format: string;
                description: string;
            };
            ttl: {
                type: string;
                description: string;
                minimum: number;
            };
            context: {
                type: string;
                description: string;
                properties: {
                    repo: {
                        type: string;
                        description: string;
                    };
                    branch: {
                        type: string;
                    };
                    pr_number: {
                        type: string;
                    };
                    issue_key: {
                        type: string;
                    };
                    initiator: {
                        type: string;
                        description: string;
                    };
                };
                additionalProperties: boolean;
            };
            decisions: {
                type: string;
                description: string;
                items: {
                    type: string;
                    required: string[];
                    properties: {
                        question: {
                            type: string;
                            description: string;
                        };
                        answer: {
                            description: string;
                            oneOf: {
                                type: string;
                            }[];
                        };
                        timestamp: {
                            type: string;
                            format: string;
                        };
                        source: {
                            type: string;
                            enum: string[];
                        };
                    };
                };
            };
            evidence: {
                type: string;
                description: string;
                items: {
                    type: string;
                    description: string;
                };
            };
            policy_ids: {
                type: string;
                description: string;
                items: {
                    type: string;
                    pattern: string;
                };
            };
            artifacts: {
                type: string;
                description: string;
                additionalProperties: {
                    type: string;
                    properties: {
                        content: {
                            type: string;
                        };
                        content_type: {
                            type: string;
                        };
                        size: {
                            type: string;
                        };
                        hash: {
                            type: string;
                        };
                    };
                };
            };
            metadata: {
                type: string;
                description: string;
                additionalProperties: boolean;
            };
        };
    };
    envelope: {
        $schema: string;
        $id: string;
        title: string;
        description: string;
        type: string;
        required: string[];
        properties: {
            id: {
                type: string;
                description: string;
                pattern: string;
            };
            version: {
                type: string;
                description: string;
                const: string;
            };
            timestamp: {
                type: string;
                format: string;
                description: string;
            };
            status: {
                type: string;
                description: string;
                enum: string[];
            };
            execution: {
                type: string;
                description: string;
                required: string[];
                properties: {
                    mode: {
                        type: string;
                        enum: string[];
                    };
                    duration_ms: {
                        type: string;
                        minimum: number;
                    };
                    host: {
                        type: string;
                        description: string;
                    };
                    triggered_by: {
                        type: string;
                        description: string;
                    };
                };
            };
            capsule_id: {
                type: string;
                description: string;
                pattern: string;
            };
            policy_ids: {
                type: string;
                description: string;
                items: {
                    type: string;
                    pattern: string;
                };
            };
            resolver: {
                type: string;
                description: string;
                properties: {
                    snapshot_time: {
                        type: string;
                        format: string;
                        description: string;
                    };
                    channel: {
                        type: string;
                        description: string;
                    };
                    degraded: {
                        type: string;
                        description: string;
                    };
                };
            };
            results: {
                type: string;
                description: string;
                items: {
                    type: string;
                    required: string[];
                    properties: {
                        policy_id: {
                            type: string;
                        };
                        outcome: {
                            type: string;
                            enum: string[];
                        };
                        violations: {
                            type: string;
                            items: {
                                type: string;
                                properties: {
                                    message: {
                                        type: string;
                                    };
                                    location: {
                                        type: string;
                                        properties: {
                                            file: {
                                                type: string;
                                            };
                                            line: {
                                                type: string;
                                            };
                                            column: {
                                                type: string;
                                            };
                                        };
                                    };
                                    severity: {
                                        type: string;
                                        enum: string[];
                                    };
                                };
                            };
                        };
                        duration_ms: {
                            type: string;
                        };
                    };
                };
            };
            evidence_ids: {
                type: string;
                description: string;
                items: {
                    type: string;
                };
            };
            actions: {
                type: string;
                description: string;
                items: {
                    type: string;
                    required: string[];
                    properties: {
                        type: {
                            type: string;
                            enum: string[];
                        };
                        status: {
                            type: string;
                            enum: string[];
                        };
                        ref: {
                            type: string;
                            description: string;
                        };
                        metadata: {
                            type: string;
                            additionalProperties: boolean;
                        };
                    };
                };
            };
            artifacts: {
                type: string;
                description: string;
                additionalProperties: {
                    type: string;
                    properties: {
                        type: {
                            type: string;
                        };
                        ref: {
                            type: string;
                        };
                        hash: {
                            type: string;
                        };
                    };
                };
            };
            observability: {
                type: string;
                description: string;
                properties: {
                    trace_id: {
                        type: string;
                    };
                    span_id: {
                        type: string;
                    };
                    events: {
                        type: string;
                        items: {
                            type: string;
                            properties: {
                                timestamp: {
                                    type: string;
                                    format: string;
                                };
                                type: {
                                    type: string;
                                };
                                message: {
                                    type: string;
                                };
                                metadata: {
                                    type: string;
                                    additionalProperties: boolean;
                                };
                            };
                        };
                    };
                };
            };
            metadata: {
                type: string;
                description: string;
                additionalProperties: boolean;
            };
        };
    };
    aoiSpec: {
        $schema: string;
        $id: string;
        title: string;
        description: string;
        type: string;
        required: string[];
        properties: {
            id: {
                type: string;
                description: string;
                pattern: string;
            };
            kind: {
                type: string;
                description: string;
                enum: string[];
            };
            name: {
                type: string;
                description: string;
            };
            description: {
                type: string;
                description: string;
            };
            status: {
                type: string;
                enum: string[];
                description: string;
            };
            created_at: {
                type: string;
                format: string;
            };
            updated_at: {
                type: string;
                format: string;
            };
            detected_in: {
                type: string;
                description: string;
                properties: {
                    repo: {
                        type: string;
                    };
                    pr_number: {
                        type: string;
                    };
                    file: {
                        type: string;
                    };
                    line: {
                        type: string;
                    };
                };
            };
            specification: {
                type: string;
                description: string;
                properties: {
                    interface: {
                        type: string;
                        description: string;
                        additionalProperties: boolean;
                    };
                    requirements: {
                        type: string;
                        items: {
                            type: string;
                        };
                    };
                    examples: {
                        type: string;
                        items: {
                            type: string;
                            properties: {
                                description: {
                                    type: string;
                                };
                                code: {
                                    type: string;
                                };
                            };
                        };
                    };
                };
            };
            ownership: {
                type: string;
                description: string;
                properties: {
                    team: {
                        type: string;
                    };
                    assignee: {
                        type: string;
                    };
                    assigned_at: {
                        type: string;
                        format: string;
                    };
                };
            };
            tracking: {
                type: string;
                description: string;
                properties: {
                    issue_key: {
                        type: string;
                    };
                    issue_url: {
                        type: string;
                    };
                    stub_pr: {
                        type: string;
                    };
                    stub_pr_url: {
                        type: string;
                    };
                    implementation_pr: {
                        type: string;
                    };
                    migration_pr: {
                        type: string;
                    };
                };
            };
            sla: {
                type: string;
                description: string;
                properties: {
                    target_date: {
                        type: string;
                        format: string;
                    };
                    priority: {
                        type: string;
                        enum: string[];
                    };
                    escalated: {
                        type: string;
                    };
                };
            };
            metadata: {
                type: string;
                additionalProperties: boolean;
            };
        };
    };
    aiEvaluationMetadata: {
        $schema: string;
        $id: string;
        title: string;
        description: string;
        type: string;
        required: string[];
        properties: {
            model: {
                type: string;
                description: string;
            };
            tokens_used: {
                type: string;
                description: string;
                minimum: number;
            };
            cost_usd: {
                type: string;
                description: string;
                minimum: number;
            };
            confidence_score: {
                type: string;
                description: string;
                minimum: number;
                maximum: number;
            };
            latency_ms: {
                type: string;
                description: string;
                minimum: number;
            };
            fallback_used: {
                type: string;
                description: string;
            };
            reasoning: {
                type: string;
                description: string;
            };
        };
    };
    agentHandoff: {
        $schema: string;
        $id: string;
        title: string;
        description: string;
        type: string;
        required: string[];
        properties: {
            from: {
                type: string;
                description: string;
            };
            to: {
                type: string;
                description: string;
            };
            decisions: {
                type: string;
                description: string;
                items: {
                    type: string;
                    required: string[];
                    properties: {
                        question: {
                            type: string;
                        };
                        answer: {
                            type: string;
                        };
                        reasoning: {
                            type: string;
                        };
                        confidence: {
                            type: string;
                            minimum: number;
                            maximum: number;
                        };
                    };
                };
            };
            artifacts: {
                type: string;
                description: string;
                items: {
                    type: string;
                    required: string[];
                    properties: {
                        uri: {
                            type: string;
                            description: string;
                        };
                        type: {
                            type: string;
                            description: string;
                        };
                        description: {
                            type: string;
                        };
                    };
                };
            };
            context_summary: {
                type: string;
                description: string;
            };
            timestamp: {
                type: string;
                format: string;
                description: string;
            };
            metadata: {
                type: string;
                description: string;
                additionalProperties: boolean;
            };
        };
    };
    workflowResult: {
        $schema: string;
        $id: string;
        title: string;
        description: string;
        type: string;
        required: string[];
        properties: {
            capsule_id: {
                type: string;
                description: string;
            };
            agents_invoked: {
                type: string;
                description: string;
                items: {
                    type: string;
                };
            };
            handoffs: {
                type: string;
                description: string;
                items: {
                    $ref: string;
                };
            };
            final_decisions: {
                type: string;
                description: string;
                items: {
                    type: string;
                    required: string[];
                    properties: {
                        question: {
                            type: string;
                        };
                        answer: {
                            type: string;
                        };
                        reasoning: {
                            type: string;
                        };
                        confidence: {
                            type: string;
                            minimum: number;
                            maximum: number;
                        };
                        agent: {
                            type: string;
                            description: string;
                        };
                    };
                };
            };
            execution_time_ms: {
                type: string;
                description: string;
                minimum: number;
            };
            status: {
                type: string;
                enum: string[];
                description: string;
            };
            error: {
                type: string;
                description: string;
                properties: {
                    agent: {
                        type: string;
                        description: string;
                    };
                    message: {
                        type: string;
                    };
                    recoverable: {
                        type: string;
                        description: string;
                    };
                };
            };
        };
    };
};
//# sourceMappingURL=index.d.ts.map