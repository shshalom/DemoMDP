/**
 * Capsule Merge Semantics
 *
 * Implements Build Step 5 merge rules:
 * - Scalars/objects: last-write-wins (JSON Merge Patch)
 * - Arrays: append-only + deduplication
 *   - decisions[]: dedupe by full object equality
 *   - artifacts[]: dedupe by id field
 *   - evidence[]: dedupe by string value
 * - Auto-update timestamps.updated
 */
import { type StateCapsule } from '@mdp-framework/schemas/contracts';
/**
 * Maximum capsule size (64 KB)
 */
export declare const MAX_CAPSULE_SIZE: number;
/**
 * Merge patch into capsule using Build Step 5 semantics
 */
export declare function mergeCapsule(base: StateCapsule, patch: Partial<StateCapsule>): StateCapsule;
/**
 * Validate capsule size doesn't exceed 64 KB
 */
export declare function validateCapsuleSize(capsule: StateCapsule): {
    ok: boolean;
    size: number;
};
/**
 * Check if capsule ID is valid format
 */
export declare function validateCapsuleId(id: string): boolean;
//# sourceMappingURL=merge.d.ts.map