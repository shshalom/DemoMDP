/**
 * FileCapsuleStore
 *
 * File-based backend for local development and IDE usage
 * Storage layout: .mlang/state/capsules/proj-TEAM/kind/slug.json
 */
import { type StateCapsule } from '@mdp-framework/schemas/contracts';
import { type CapsuleStore, type CapsuleStoreConfig, type StoreResult, type StoreError, type ListOptions, type PruneResult, type ExportEntry } from './types.js';
/**
 * FileCapsuleStore implementation
 */
export declare class FileCapsuleStore implements CapsuleStore {
    private baseDir;
    private retention;
    constructor(config: CapsuleStoreConfig);
    get(id: string): Promise<StoreResult<StateCapsule>>;
    put(capsule: StateCapsule): Promise<StoreResult<void>>;
    merge(id: string, patch: Partial<StateCapsule>): Promise<StoreResult<StateCapsule>>;
    delete(id: string): Promise<StoreResult<void>>;
    list(options?: ListOptions): Promise<StoreResult<string[]>>;
    exists(id: string): Promise<boolean>;
    getMany(ids: string[]): Promise<StoreResult<Map<string, StateCapsule>>>;
    prune(dryRun?: boolean): Promise<StoreResult<PruneResult>>;
    export(options?: ListOptions): AsyncIterable<ExportEntry>;
    import(entries: AsyncIterable<ExportEntry>, overwrite?: boolean): Promise<StoreResult<{
        imported: number;
        skipped: number;
        errors: Array<{
            entry: ExportEntry;
            error: StoreError;
        }>;
    }>>;
    close(): Promise<void>;
    /**
     * Get file system path for capsule ID
     * capsule://proj/TEAM/kind/slug -> proj-TEAM/kind/slug.json
     */
    private getFilePath;
    /**
     * Recursively walk directory
     */
    private walkDir;
    /**
     * Determine prune reasons for a capsule
     */
    private getPruneReasons;
}
/**
 * Create FileCapsuleStore instance
 */
export declare function createFileStore(config: CapsuleStoreConfig): FileCapsuleStore;
//# sourceMappingURL=file-store.d.ts.map