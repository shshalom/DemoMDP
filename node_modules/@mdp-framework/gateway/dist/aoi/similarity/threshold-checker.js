/**
 * Threshold Checker
 *
 * Determines if similarity scores meet the threshold for component existence.
 */
export class ThresholdChecker {
    /**
     * Default threshold for similarity matching (0.8)
     */
    static DEFAULT_THRESHOLD = 0.8;
    /**
     * Check if a component exists based on similarity threshold
     */
    static checkExists(result) {
        return result.exists && result.closest_match !== undefined;
    }
    /**
     * Get recommendation based on similarity score
     */
    static getRecommendation(score, threshold) {
        if (score >= threshold) {
            return 'skip_aoi';
        }
        else if (score >= threshold - 0.1) {
            // Close to threshold, recommend manual review
            return 'review_manual';
        }
        else {
            return 'create_aoi';
        }
    }
    /**
     * Validate threshold value
     */
    static validateThreshold(threshold) {
        if (threshold < 0 || threshold > 1) {
            throw new Error('Threshold must be between 0 and 1');
        }
    }
    /**
     * Calculate confidence in similarity result
     */
    static calculateConfidence(result) {
        if (!result.closest_match) {
            return 1.0; // High confidence in "no match"
        }
        const score = result.closest_match.similarity_score;
        const threshold = result.threshold;
        // If far from threshold (either way), high confidence
        const distance = Math.abs(score - threshold);
        if (distance > 0.1) {
            return 0.9;
        }
        // Close to threshold, lower confidence
        return 0.6;
    }
}
//# sourceMappingURL=threshold-checker.js.map