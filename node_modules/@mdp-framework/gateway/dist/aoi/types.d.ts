/**
 * AOI Coordinator Types
 *
 * FROZEN per Docs/contracts/STREAM-4-AOI-COORDINATOR.md
 */
import type { PolicyCard } from '@mdp-framework/schemas';
export interface AOISpec {
    /**
     * Component identifier
     */
    id: string;
    /**
     * Component name
     */
    name: string;
    /**
     * Component description
     */
    description: string;
    /**
     * Target framework repository
     */
    framework: string;
    /**
     * Specification content (Markdown)
     */
    specification: string;
    /**
     * Code examples from violation
     */
    examples: CodeExample[];
    /**
     * Assigned owners
     */
    owners: string[];
    /**
     * AOI metadata
     */
    metadata: {
        policy_id: string;
        trigger_pr: string;
        trigger_violation: Violation;
        similarity_checked: boolean;
        closest_match?: {
            component: string;
            similarity_score: number;
        };
        generated_at: string;
        cost_usd: number;
    };
}
export interface CodeExample {
    file: string;
    language: string;
    code: string;
    context?: string;
}
export interface Violation {
    file: string;
    line?: number;
    message: string;
    severity: 'error' | 'warning';
    confidence: number;
    suggested_fix?: string;
}
export interface EvaluationResult {
    policy_id: string;
    policy_version: string;
    status: 'passed' | 'warning' | 'failed';
    violations: Violation[];
    metadata?: {
        model: string;
        tokens_used: number;
        cost_usd: number;
        confidence_score: number;
        latency_ms: number;
        fallback_used: boolean;
        reasoning?: string;
    };
}
export interface PullRequest {
    number: number;
    title: string;
    body: string;
    head: {
        ref: string;
        sha: string;
        repo: {
            full_name: string;
        };
    };
    base: {
        ref: string;
        repo: {
            full_name: string;
        };
    };
    html_url: string;
}
export interface AOIAction {
    /**
     * Action type
     */
    type: 'notify' | 'create_issue' | 'create_counter_pr' | 'create_followup_pr';
    /**
     * Action status
     */
    status: 'pending' | 'in_progress' | 'completed' | 'failed';
    /**
     * Target platform
     */
    target: {
        platform: 'github' | 'jira' | 'slack';
        resource_id?: string;
        url?: string;
    };
    /**
     * Action payload
     */
    payload: any;
    /**
     * Execution metadata
     */
    metadata: {
        created_at: string;
        completed_at?: string;
        error?: string;
    };
}
export interface CounterPRConfig {
    /**
     * Target framework repository
     */
    framework_repo: string;
    /**
     * Branch name for counter-PR
     */
    branch_name: string;
    /**
     * PR title
     */
    title: string;
    /**
     * PR description
     */
    description: string;
    /**
     * Files to create/modify
     */
    files: PRFileChange[];
    /**
     * Include tests?
     */
    include_tests: boolean;
    /**
     * Assigned reviewers
     */
    reviewers: string[];
}
export interface PRFileChange {
    path: string;
    content: string;
    operation: 'create' | 'modify' | 'delete';
}
export interface SimilarityResult {
    /**
     * Does a similar component exist?
     */
    exists: boolean;
    /**
     * Similarity threshold used
     */
    threshold: number;
    /**
     * Closest match (if any)
     */
    closest_match?: {
        component: string;
        description: string;
        similarity_score: number;
        location: string;
    };
    /**
     * All matches above threshold
     */
    matches: Array<{
        component: string;
        similarity_score: number;
    }>;
    /**
     * Search metadata
     */
    metadata: {
        query: string;
        total_candidates: number;
        search_latency_ms: number;
    };
}
export interface Component {
    name: string;
    description: string;
    location: string;
    embedding: number[];
    framework: string;
}
export interface AOICoordinator {
    /**
     * Process evaluation result for AOI
     */
    processEvaluation(result: EvaluationResult, policy: PolicyCard, pr: PullRequest): Promise<AOIAction[]>;
    /**
     * Check if component exists via similarity search
     */
    checkComponentExists(query: string, framework: string, threshold: number): Promise<SimilarityResult>;
    /**
     * Generate AOI specification
     */
    generateSpec(violation: Violation, policy: PolicyCard, pr: PullRequest): Promise<AOISpec>;
    /**
     * Route AOI spec to owners
     */
    routeToOwners(spec: AOISpec, policy: PolicyCard): Promise<AOIAction[]>;
    /**
     * Create counter-PR in framework repo
     */
    createCounterPR(spec: AOISpec, config: CounterPRConfig): Promise<AOIAction>;
    /**
     * Create follow-up PR to migrate original code
     */
    createFollowupPR(original_pr: PullRequest, counter_pr: PullRequest, spec: AOISpec): Promise<AOIAction>;
}
//# sourceMappingURL=types.d.ts.map