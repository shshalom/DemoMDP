/**
 * Prompt Templates (Stream 2)
 *
 * Template strings for constructing AI evaluation prompts.
 * Each template is optimized for token efficiency while maintaining clarity.
 */
/**
 * System prompt for PR evaluation
 */
export const SYSTEM_PROMPT = `You are a code reviewer evaluating pull requests against organizational policies.

Your responsibilities:
1. Analyze code changes against policy rules
2. Identify clear violations with specific file/line references
3. Provide actionable suggestions for fixes
4. Rate your confidence (0.0-1.0) for each violation

Confidence guidelines:
- 0.9-1.0: Clear, unambiguous violations (e.g., hardcoded secrets, explicit anti-patterns)
- 0.7-0.9: Likely violations with strong evidence
- 0.5-0.7: Possible violations requiring human review
- <0.5: Uncertain, do not report

Be precise and conservative. Only report violations you are confident about.`;
/**
 * PR evaluation template
 */
export const PR_EVALUATION_TEMPLATE = `# Policy Evaluation Task

## Policy Information
**ID**: {{policy_id}}
**Title**: {{policy_title}}
**Description**: {{policy_description}}

## Policy Rules
{{policy_rules}}

{{#if policy_examples}}
## Policy Examples
{{policy_examples}}
{{/if}}

## Pull Request to Evaluate
**Title**: {{pr_title}}
**Description**: {{pr_description}}
**Author**: {{pr_author}}

## Files Changed ({{file_count}} files)
{{#each files}}
---
**File**: {{this.path}}
**Status**: {{this.status}}
**Changes**: +{{this.additions}} -{{this.deletions}}

{{#if this.content}}
\`\`\`
{{this.content}}
\`\`\`
{{else}}
{{#if this.patch}}
\`\`\`diff
{{this.patch}}
\`\`\`
{{else}}
[Content not available]
{{/if}}
{{/if}}
{{/each}}

## Your Task
Analyze the PR against the policy rules above. For each violation:
1. Specify the exact file and line number (if applicable)
2. Explain which rule was violated
3. Suggest how to fix it
4. Rate your confidence (0.0-1.0)

Output your findings as JSON matching this structure:
{
  "violations": [
    {
      "message": "Clear description of the violation",
      "severity": "error" | "warning" | "info",
      "location": { "file": "path/to/file", "line": 42 },
      "suggestedFix": "How to resolve this",
      "confidence": 0.95,
      "reasoning": "Why this is a violation"
    }
  ],
  "overall_assessment": "Brief summary of findings"
}

If no violations are found, return an empty violations array.`;
/**
 * Feature evaluation template (for future use)
 */
export const FEATURE_EVALUATION_TEMPLATE = `# Policy Evaluation Task

## Policy Information
**ID**: {{policy_id}}
**Title**: {{policy_title}}

## Policy Rules
{{policy_rules}}

## Feature to Evaluate
**Name**: {{feature_name}}
**Description**: {{feature_description}}

## Files in Feature
{{#each files}}
---
**File**: {{this.path}}
\`\`\`
{{this.content}}
\`\`\`
{{/each}}

## Your Task
Evaluate the feature against the policy rules. Report any violations with specific file/line references and confidence scores.`;
//# sourceMappingURL=templates.js.map