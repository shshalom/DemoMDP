/**
 * MCP Server - Main server implementation
 */
import type { PolicyResolver } from '@mdp-framework/gateway';
import type { CapsuleStore } from '@mdp-framework/gateway/store';
import type { MCPToolHandler, ServerStatus, TransportMode } from './protocol/types.js';
/**
 * MCP Server Configuration
 */
export interface MCPServerConfig {
    /**
     * Policy resolver instance
     */
    resolver: PolicyResolver;
    /**
     * Capsule store instance
     */
    store: CapsuleStore;
    /**
     * Auto-register default tools
     * @default true
     */
    autoRegisterTools?: boolean;
}
/**
 * MCPServer - Main server class
 *
 * Implements the MCP protocol and exposes MDP capabilities as tools
 */
export declare class MCPServer {
    private handler;
    private transport?;
    private startTime?;
    private currentMode?;
    private currentPort?;
    private resolver;
    private store;
    constructor(config: MCPServerConfig);
    /**
     * Register a tool handler
     */
    registerTool(handler: MCPToolHandler): void;
    /**
     * Unregister a tool handler
     */
    unregisterTool(name: string): boolean;
    /**
     * Get all registered tools
     */
    getTools(): import("./index.js").MCPToolDefinition[];
    /**
     * Start the server
     *
     * @param mode - Transport mode ('stdio' or 'http')
     * @param port - Port for HTTP mode (optional)
     */
    start(mode: TransportMode, port?: number): Promise<void>;
    /**
     * Stop the server
     */
    stop(): Promise<void>;
    /**
     * Get server status
     */
    getStatus(): ServerStatus;
    /**
     * Register default MDP tools
     */
    private registerDefaultTools;
}
/**
 * Create an MCP server instance
 *
 * @param config - Server configuration
 * @returns MCPServer instance
 */
export declare function createMCPServer(config: MCPServerConfig): MCPServer;
//# sourceMappingURL=server.d.ts.map