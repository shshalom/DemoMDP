/**
 * @mdp-framework/agents - Handoff Protocol
 *
 * Implements agent-to-agent handoff mechanism
 *
 * Contract: Handoff protocol is FROZEN per STREAM-5-MULTI-AGENT.md
 */
import type { StateCapsule, AgentHandoff } from '@mdp-framework/schemas';
import type { Agent, AgentResult } from './agent.js';
import type { Blackboard } from './blackboard.js';
/**
 * Manages handoffs between agents
 *
 * Coordinates the transfer of context, decisions, and artifacts
 */
export declare class HandoffManager {
    private blackboard;
    private handoffs;
    constructor(blackboard: Blackboard);
    /**
     * Execute handoff from one agent to another
     *
     * @param fromAgent - Agent performing the handoff
     * @param toAgent - Agent receiving the handoff
     * @param capsule - Current state capsule
     * @param result - Result from the 'from' agent
     * @returns Updated handoff record
     */
    executeHandoff(fromAgent: Agent, toAgent: Agent, capsule: StateCapsule, result: AgentResult): Promise<AgentHandoff>;
    /**
     * Validate that handoff is allowed
     */
    private validateHandoff;
    /**
     * Get all handoffs
     */
    getHandoffs(): AgentHandoff[];
    /**
     * Get handoffs involving a specific agent
     */
    getHandoffsForAgent(agentName: string): AgentHandoff[];
    /**
     * Get the last handoff
     */
    getLastHandoff(): AgentHandoff | null;
    /**
     * Get handoff chain (sequence of handoffs)
     */
    getHandoffChain(): string[];
    /**
     * Get handoff statistics
     */
    getStats(): {
        totalHandoffs: number;
        averageHandoffTimeMs: number;
        handoffChain: string[];
    };
    /**
     * Clear all handoffs (useful for testing)
     */
    clear(): void;
}
/**
 * Builds rich context for agent execution
 */
export declare class ContextBuilder {
    private blackboard;
    constructor(blackboard: Blackboard);
    /**
     * Build context for an agent
     *
     * Combines capsule data with blackboard state
     */
    buildContext(agent: Agent, capsule: StateCapsule, handoff?: AgentHandoff): string;
    /**
     * Build minimal context (for token optimization)
     */
    buildMinimalContext(agent: Agent, capsule: StateCapsule): string;
}
/**
 * Error thrown during handoff
 */
export declare class HandoffError extends Error {
    readonly fromAgent: string;
    readonly toAgent: string;
    readonly recoverable: boolean;
    constructor(fromAgent: string, toAgent: string, message: string, recoverable?: boolean);
}
//# sourceMappingURL=handoff.d.ts.map