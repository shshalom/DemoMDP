{
  "_sourceMarkdown": "policies/no-force-unwrap.md",
  "_structuredSections": {
    "detection": "This policy flags:\n- `variable!` patterns (e.g., `user!.name`)\n- `array[index]!` patterns (e.g., `items[0]!`)\n- `as!` force casts (e.g., `value as! String`)\n- `try!` force try (e.g., `try! decodeJSON()`)\n\nApplies to: `.swift` files in production code (not test files)",
    "examples": "❌ BAD - Will crash if user is nil:\n```swift\nlet name = user!.name\n```\n\n✅ GOOD - Safe unwrapping:\n```swift\nif let user = user {\n    let name = user.name\n}\n```\n\n✅ GOOD - Guard statement:\n```swift\nguard let user = user else { return }\nlet name = user.name\n```\n\n✅ GOOD - Nil coalescing:\n```swift\nlet name = user?.name ?? \"Guest\"\n```",
    "exceptions": "Force unwrapping is acceptable in:\n- Test code (`*Tests.swift`, `*Test.swift`)\n- IBOutlets (which are guaranteed to exist after loading)\n- Cases with `fatalError()` for truly impossible conditions",
    "purpose": "Force unwrapping (`!`) in Swift causes **immediate crashes** when the value is `nil`. This policy detects force unwraps in production code and suggests safer alternatives."
  },
  "constraints": {
    "file_types": [
      ".swift"
    ],
    "focus_patterns": [
      "!",
      "as!",
      "try!",
      "?.",
      "??"
    ],
    "severity": "error",
    "violation_check_prompt": "Does this Swift code use force unwrap (!) or force cast (as!) or force try (try!)? Answer yes/no."
  },
  "description": "Prevent crashes by catching force unwraps in Swift code",
  "id": "ios.swift.no-force-unwrap",
  "role": "pr",
  "scope": "repo",
  "tags": [
    "ios",
    "swift",
    "safety"
  ],
  "title": "No Force Unwrapping in Swift",
  "version": "2025.11.17"
}